!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("lodash/get"),require("lodash/orderBy"),require("lodash/omit"),require("lodash/uniq"),require("lodash/without"),require("lodash/keyBy"),require("lodash/at")):"function"==typeof define&&define.amd?define(["exports","lodash/get","lodash/orderBy","lodash/omit","lodash/uniq","lodash/without","lodash/keyBy","lodash/at"],n):n(t["trampss-redux-factory"]=t["trampss-redux-factory"]||{},t._get,t._orderBy,t._omit,t._uniq,t._without,t._keyBy,t._at)}(this,function(t,n,r,e,u,a,i,o){"use strict";n=n&&"default"in n?n.default:n,r=r&&"default"in r?r.default:r,e=e&&"default"in e?e.default:e,u=u&&"default"in u?u.default:u,a=a&&"default"in a?a.default:a,i=i&&"default"in i?i.default:i,o=o&&"default"in o?o.default:o;var c=function(t){return"@trampss/"+t.toUpperCase()},f=function(t){return c("SET_"+t)},d=function(t){return function(n){return{type:f(t),payload:n}}},s=function(t){return c("RESET_"+t)},l=function(t){return function(){return{type:s(t)}}},y=function(t){return c("ADD_"+t)},p=function(t){return c("UPDATE_"+t)},v=function(t){return function(n){return{type:p(t),payload:n}}},h=function(t){return c("REMOVE_"+t)},g=function(t){return c("ADD_OR_UPDATE_"+t)},m=function(t){return c("ORDER_BY_"+t)},O=function(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t},b=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},E=function(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}return Array.from(t)},_={data:{},keys:[],array:[],initialized:!1},j=function(t){return function(n,r){return t.array.find(function(t){return t[n]===r})}},A=function(t,n,r){var e=void 0,a=r[t];return e=j(n)(t,a)?n.array.map(function(n){return n[t]===a?r:n}):[].concat(E(n.array),[r]),b({},n,{data:b({},n.data,O({},a,r)),keys:u([].concat(E(n.keys),[a])),array:e,initialized:!0})},k=function(t,n,r){var e=r[t];return b({},n,{data:b({},n.data,O({},e,b({},n.data[e],r))),array:n.array.map(function(n){return n[t]===e?b({},n,r):n})})},D=function(t){return function(o){return function(){return function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=d.type,v=d.payload;switch(l){case f(o):return{data:i(v,t),keys:u(v.map(function(n){return n[t]})),array:v,initialized:!0};case y(o):return A(t,c,v);case g(o):return j(c)(t,v[t])?k(t,c,v):A(t,c,v);case p(o):return j(c)(t,v[t])?k(t,c,v):c;case m(o):var O=v,E="asc";v instanceof Object&&!(v instanceof Function)&&(O=v.by,E=v.desc?"desc":"asc"),O instanceof String&&(O=function(t){return n(t,O)});var D=r(c.array,O,E);return b({},c,{array:D,keys:u(D.map(function(n){return n[t]}))});case h(o):return b({},c,{data:e(c.data,[v]),keys:a(c.keys,v),array:c.array?c.array.filter(function(n){return n[t]!==v}):[]});case s(o):return _;default:return c}}}}},w=Object.freeze({set:d,SET:f,add:function(t){return function(n){return{type:y(t),payload:n}}},ADD:y,reset:l,RESET:s,remove:function(t){return function(n){return{type:h(t),payload:n}}},REMOVE:h,update:v,UPDATE:p,addOrUpdate:function(t){return function(n){return{type:g(t),payload:n}}},ADD_OR_UPDATE:g,orderBy:function(t){return function(n){return{type:m(t),payload:n}}},ORDER_BY:m}),T=function(t){return function(n){var r=n;return void 0!==t.path&&(r=o(n,t.path)[0]),r[t.name]}},z=function(t){return function(n){return function(r){return T(n)(r)[t]}}},R=z("keys"),q=z("array"),B=z("initialized"),P=function(t){return z("data")(t)},S={middlewares:[function(t){return function(n){return function(r){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b({},e,{state:D(t)(n)(r)(e.state,e.action)})}}}}],actions:w,selectors:Object.freeze({getState:T,getKeys:R,getAsArray:q,getLength:function(t){return function(n){return R(t)(n).length}},isInitialized:B,get:function(t){return function(n){return function(r){var e=P(t)(r);return n?Array.isArray(n)?n.map(function(t){return e[t]}):e[n]:e}}},getBy:function(t){return function(n,r){return function(e){var u=q(t)(e);return Array.isArray(r)?u.filter(function(t){return r.includes(o(t,n)[0])}):u.filter(function(t){return r===o(t,n)[0]})}}}})},U={},x=function(t){return void 0!==t?t:U},V=function(){return function(t){return function(n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x(n),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=e.type,a=e.payload;switch(u){case f(t):return a;case p(t):return b({},r,a);case s(t):return x(n);default:return r}}}}},M=function(t){return function(){return function(n){return T(t)(n)}}},N={middlewares:[function(t){return function(t){return function(n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b({},r,{state:V()(t)(n)(r.state,r.action)})}}}}],actions:Object.freeze({set:d,SET:f,reset:l,RESET:s,update:v,UPDATE:p}),selectors:Object.freeze({get:M,isInitialized:function(t){return function(n){return void 0!==t.defaultData?T(t)(n)!==t.defaultData:M(t)()(n)!==U}}})},I=Object.freeze({keyValue:S,simpleObject:N}),K=function(t){return function(n){return function(r){return function(e){return function(u){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.type,o={state:u,action:{type:void 0===i?"UNKNOWN":i,payload:a.payload}};return[].concat(E(t.pre||[]),E(t.engine||[]),E(t.post||[])).map(function(t){return t(n)(r)(e)}).forEach(function(t){o=t(o)}),o.state}}}}},Y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var r=n.key,e=n.type,u=void 0===e?"keyValue":e,a=n.prefix,i=void 0===a?"":a,o=n.name,c=n.defaultData,f=I[u];return Object.assign.apply(Object,[K(b({},t,{engine:f.middlewares}))(r)(""+i+o)(c),{trampssType:u}].concat(E(Object.keys(f.actions).map(function(t){return O({},t,f.actions[t](""+i+o))})),E(Object.keys(f.selectors).map(function(t){return O({},t,f.selectors[t](n))}))))}},C=function(){throw Error("parameter is not a middleware configuration, nor a factory option object.")},F=function(t){return t.engine||t.pre||t.post},L=function(t){return!!t.name||"string"==typeof t},W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){return null!==n&&void 0!==n||C(),F(n)?function(r){return Y(n)(b({},r,t))}:L(n)?"string"==typeof n?Y()(b({name:n},t)):Y()(b({},n,t)):void C()}},G=W({type:"simpleObject"}),H=W({type:"keyValue"}),J=W();t.simpleObject=G,t.keyValue=H,t.default=J,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
