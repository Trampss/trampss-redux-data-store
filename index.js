!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("lodash/at"),require("lodash/omit"),require("lodash/uniq"),require("lodash/without"),require("lodash/keyBy")):"function"==typeof define&&define.amd?define(["lodash/at","lodash/omit","lodash/uniq","lodash/without","lodash/keyBy"],n):t["trampss-redux-factory"]=n(t._at,t._omit,t._uniq,t._without,t._keyBy)}(this,function(t,n,r,e,u){"use strict";t=t&&"default"in t?t.default:t,n=n&&"default"in n?n.default:n,r=r&&"default"in r?r.default:r,e=e&&"default"in e?e.default:e,u=u&&"default"in u?u.default:u;var i=function(t){return"@trampss/"+t.toUpperCase()},a=function(t){return i("SET_"+t)},o=function(t){return i("RESET_"+t)},c=function(t){return i("ADD_"+t)},f=function(t){return i("UPDATE_"+t)},d=function(t){return i("REMOVE_"+t)},s=Object.freeze({SET:a,set:function(t){return function(n){return{type:a(t),payload:n}}},RESET:o,reset:function(t){return function(){return{type:o(t)}}},ADD:c,add:function(t){return function(n){return{type:c(t),payload:n}}},UPDATE:f,update:function(t){return function(n){return{type:f(t),payload:n}}},REMOVE:d,remove:function(t){return function(n){return{type:d(t),payload:n}}}}),l=function(n){return function(r){return function(e){var u=e;return void 0!==n&&(u=t(e,n)[0]),u[r]}}},y=function(t){return function(n){return function(r){return function(e){return l(n)(r)(e)[t]}}}},p=y("keys"),g=y("array"),v=y("initialized"),h=y("data"),m=Object.freeze({getState:l,getKeys:p,getAsArray:g,getLength:function(t){return function(n){return function(r){return p(t)(n)(r).length}}},isInitialized:v,get:function(t){return function(n){return function(r){return function(e){var u=h(t)(n)(e);return r?Array.isArray(r)?r.map(function(t){return u[t]}):u[r]:u}}}},getBy:function(n){return function(r){return function(e,u){return function(i){var a=g(n)(r)(i);return Array.isArray(u)?a.filter(function(n){return u.includes(t(n,e)[0])}):a.filter(function(n){return u===t(n,e)[0]})}}}}}),A=function(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t},b=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},O=function(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}return Array.from(t)},E={data:{},keys:[],array:[],initialized:!1},k=function(t){return function(n,r){return t.array.find(function(t){return t[n]===r})}},z=function(t){return function(i){return function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=l.type,p=l.payload;switch(y){case a(i):return{data:u(p,t),keys:r(p.map(function(n){return n[t]})),array:p,initialized:!0};case c(i):var g=void 0,v=p[t];return g=k(s)(t,v)?s.array.map(function(n){return n[t]===v?p:n}):[].concat(O(s.array),[p]),b({},s,{data:b({},s.data,A({},v,p)),keys:r([].concat(O(s.keys),[v])),array:g,initialized:!0});case f(i):var h=p[t];return k(s)(t,h)?b({},s,{data:b({},s.data,A({},h,b({},s.data[h],p))),array:s.array.map(function(n){return n[t]===h?b({},n,p):n})}):s;case d(i):return b({},s,{data:n(s.data,[p]),keys:e(s.keys,p),array:s.array?s.array.filter(function(n){return n[t]!==p}):[]});case o(i):return E;default:return s}}}},j={middlewares:[function(t){return function(n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b({},r,{state:z(t)(n)(r.state,r.action)})}}}],actions:["set","add","reset","remove"],selectors:["getState","getKeys","getAsArray","getLength","isInitialized","get","getBy"]},w={data:void 0,initialized:!1},_=function(){return function(t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=r.type,u=r.payload;switch(e){case a(t):return{data:u,initialized:!0};case o(t):return w;default:return n}}}},q={middlewares:[function(t){return function(t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b({},n,{state:_()(t)(n.state,n.action)})}}}],actions:["set","reset"],selectors:["getState","isInitialized","get"]},S=Object.freeze({map:j,uniq:q}),D=function(t){return function(n){return function(r){return function(e){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=u.type,a={state:e,action:{type:void 0===i?"UNKNOWN":i,payload:u.payload}};return[].concat(O(t.pre||[]),O(t.engine||[]),O(t.post||[])).map(function(t){return t(n)(r)}).forEach(function(t){a=t(a)}),a.state}}}},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){return function(r){return function(e){return function(u){return function(i){return Object.assign.apply(Object,[D(b({},t,{engine:e.middlewares}))(n)(""+u+i)].concat(O(Object.keys(s).filter(function(t){return e.actions.includes(t)}).map(function(t){return A({},t,s[t](""+u+i))})),O(Object.keys(m).filter(function(t){return e.selectors.includes(t)}).map(function(t){return A({},t,m[t](r)(i))}))))}}}}}};return function(t){return function(n){return function(r){return function(e){var u=void 0,i="",a="map";return"string"==typeof e?u=e:(u=e.name,i=e.prefix||"",a=e.type||"map"),T(t)(n)(r)(S[a])(i)(u)}}}}});
//# sourceMappingURL=index.js.map
