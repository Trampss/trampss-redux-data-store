!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("lodash/isString"),require("lodash/isObjectLike"),require("lodash/get"),require("lodash/orderBy"),require("lodash/omit"),require("lodash/uniq"),require("lodash/without"),require("lodash/keyBy"),require("lodash/at")):"function"==typeof define&&define.amd?define(["exports","lodash/isString","lodash/isObjectLike","lodash/get","lodash/orderBy","lodash/omit","lodash/uniq","lodash/without","lodash/keyBy","lodash/at"],n):n(t["trampss-redux-factory"]=t["trampss-redux-factory"]||{},t._isString,t._isObjectLike,t._get,t._orderBy,t._omit,t._uniq,t._without,t._keyBy,t._at)}(this,function(t,n,e,r,u,a,i,o,c,f){"use strict";n=n&&"default"in n?n.default:n,e=e&&"default"in e?e.default:e,r=r&&"default"in r?r.default:r,u=u&&"default"in u?u.default:u,a=a&&"default"in a?a.default:a,i=i&&"default"in i?i.default:i,o=o&&"default"in o?o.default:o,c=c&&"default"in c?c.default:c,f=f&&"default"in f?f.default:f;var d=function(t){return"@trampss/"+t.toUpperCase()},s=function(t){return d("SET_"+t)},l=function(t){return function(n){return{type:s(t),payload:n}}},y=function(t){return d("RESET_"+t)},p=function(t){return function(){return{type:y(t)}}},h=function(t){return d("ADD_"+t)},v=function(t){return d("UPDATE_"+t)},g=function(t){return function(n){return{type:v(t),payload:n}}},m=function(t){return d("REMOVE_"+t)},O=function(t){return d("ADD_OR_UPDATE_"+t)},b=function(t){return d("ORDER_BY_"+t)},_=function(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t},E=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},j=function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)},k={data:{},keys:[],array:[],initialized:!1},A=function(t){return function(n,e){return t.array.find(function(t){return t[n]===e})}},D=function(t,n,e){var r=void 0,u=e[t];return r=A(n)(t,u)?n.array.map(function(n){return n[t]===u?e:n}):[].concat(j(n.array),[e]),E({},n,{data:E({},n.data,_({},u,e)),keys:i([].concat(j(n.keys),[u])),array:r,initialized:!0})},q=function(t,n,e){var r=e[t];return E({},n,{data:E({},n.data,_({},r,E({},n.data[r],e))),array:n.array.map(function(n){return n[t]===r?E({},n,e):n})})},w=function(t){return function(f){return function(){return function(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=l.type,g=l.payload;switch(p){case s(f):return{data:c(g,t),keys:i(g.map(function(n){return n[t]})),array:g,initialized:!0};case h(f):return D(t,d,g);case O(f):return A(d)(t,g[t])?q(t,d,g):D(t,d,g);case v(f):return A(d)(t,g[t])?q(t,d,g):d;case b(f):var _=g,j="asc";e(g)&&(_=g.by,j=g.desc?"desc":"asc");var w=u(d.array,n(_)?function(t){return r(t,_)}:_,j);return E({},d,{array:w,keys:i(w.map(function(n){return n[t]}))});case m(f):return E({},d,{data:a(d.data,[g]),keys:o(d.keys,g),array:d.array?d.array.filter(function(n){return n[t]!==g}):[]});case y(f):return k;default:return d}}}}},T=Object.freeze({set:l,SET:s,add:function(t){return function(n){return{type:h(t),payload:n}}},ADD:h,reset:p,RESET:y,remove:function(t){return function(n){return{type:m(t),payload:n}}},REMOVE:m,update:g,UPDATE:v,addOrUpdate:function(t){return function(n){return{type:O(t),payload:n}}},ADD_OR_UPDATE:O,orderBy:function(t){return function(n){return{type:b(t),payload:n}}},ORDER_BY:b}),z=function(t){return function(n){var e=n;return void 0!==t.path&&(e=f(n,t.path)[0]),e[t.name]}},R=function(t){return function(n){return function(e){return z(n)(e)[t]}}},B=R("keys"),S=R("array"),P=R("initialized"),U=function(t){return R("data")(t)},x={middlewares:[function(t){return function(n){return function(e){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E({},r,{state:w(t)(n)(e)(r.state,r.action)})}}}}],actions:T,selectors:Object.freeze({getState:z,getKeys:B,getAsArray:S,getLength:function(t){return function(n){return B(t)(n).length}},isInitialized:P,get:function(t){return function(n){return function(e){var r=U(t)(e);return n?Array.isArray(n)?n.map(function(t){return r[t]}):r[n]:r}}},getBy:function(t){return function(n,e){return function(r){var u=S(t)(r);return Array.isArray(e)?u.filter(function(t){return e.includes(f(t,n)[0])}):u.filter(function(t){return e===f(t,n)[0]})}}}})},V={},L=function(t){return void 0!==t?t:V},M=function(){return function(t){return function(n){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L(n),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=r.type,a=r.payload;switch(u){case s(t):return a;case v(t):return E({},e,a);case y(t):return L(n);default:return e}}}}},N=function(t){return function(){return function(n){return z(t)(n)}}},I={middlewares:[function(t){return function(t){return function(n){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E({},e,{state:M()(t)(n)(e.state,e.action)})}}}}],actions:Object.freeze({set:l,SET:s,reset:p,RESET:y,update:g,UPDATE:v}),selectors:Object.freeze({get:N,isInitialized:function(t){return function(n){return void 0!==t.defaultData?z(t)(n)!==t.defaultData:N(t)()(n)!==V}}})},K=Object.freeze({keyValue:x,simpleObject:I}),Y=function(t){return function(n){return function(e){return function(r){return function(u){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.type,o={state:u,action:{type:void 0===i?"UNKNOWN":i,payload:a.payload}};return[].concat(j(t.pre||[]),j(t.engine||[]),j(t.post||[])).map(function(t){return t(n)(e)(r)}).forEach(function(t){o=t(o)}),o.state}}}}},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var e=n.key,r=n.type,u=void 0===r?"keyValue":r,a=n.prefix,i=void 0===a?"":a,o=n.name,c=n.defaultData,f=K[u];return Object.assign.apply(Object,[Y(E({},t,{engine:f.middlewares}))(e)(""+i+o)(c),{trampssType:u}].concat(j(Object.keys(f.actions).map(function(t){return _({},t,f.actions[t](""+i+o))})),j(Object.keys(f.selectors).map(function(t){return _({},t,f.selectors[t](n))}))))}},W=function(){throw Error("parameter is not a middleware configuration, nor a factory option object.")},F=function(t){return t.engine||t.pre||t.post},G=function(t){return!!t.name||"string"==typeof t},H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){return null!==n&&void 0!==n||W(),F(n)?function(e){return C(n)(E({},e,t))}:G(n)?"string"==typeof n?C()(E({name:n},t)):C()(E({},n,t)):void W()}},J=H({type:"simpleObject"}),Q=H({type:"keyValue"}),X=H();t.simpleObject=J,t.keyValue=Q,t.default=X,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
