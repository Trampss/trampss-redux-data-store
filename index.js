!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("lodash/at"),require("lodash/omit"),require("lodash/uniq"),require("lodash/without"),require("lodash/keyBy")):"function"==typeof define&&define.amd?define(["exports","lodash/at","lodash/omit","lodash/uniq","lodash/without","lodash/keyBy"],n):n(t["trampss-redux-factory"]=t["trampss-redux-factory"]||{},t._at,t._omit,t._uniq,t._without,t._keyBy)}(this,function(t,n,e,r,u,a){"use strict";n=n&&"default"in n?n.default:n,e=e&&"default"in e?e.default:e,r=r&&"default"in r?r.default:r,u=u&&"default"in u?u.default:u,a=a&&"default"in a?a.default:a;var i=function(t){return"@trampss/"+t.toUpperCase()},o=function(t){return i("SET_"+t)},c=function(t){return i("RESET_"+t)},f=function(t){return i("ADD_"+t)},d=function(t){return i("UPDATE_"+t)},s=function(t){return i("REMOVE_"+t)},l=function(t){return i("ADD_OR_UPDATE_"+t)},y=Object.freeze({SET:o,set:function(t){return function(n){return{type:o(t),payload:n}}},RESET:c,reset:function(t){return function(){return{type:c(t)}}},ADD:f,add:function(t){return function(n){return{type:f(t),payload:n}}},UPDATE:d,update:function(t){return function(n){return{type:d(t),payload:n}}},REMOVE:s,remove:function(t){return function(n){return{type:s(t),payload:n}}},ADD_OR_UPDATE:l,addOrUpdate:function(t){return function(n){return{type:l(t),payload:n}}}}),p=function(t){return function(e){return function(r){var u=r;return void 0!==t&&(u=n(r,t)[0]),u[e]}}},v=function(t){return function(n){return function(e){return function(r){return p(n)(e)(r)[t]}}}},g=v("keys"),h=v("array"),m=v("initialized"),O=v("data"),A=Object.freeze({getState:p,getKeys:g,getAsArray:h,getLength:function(t){return function(n){return function(e){return g(t)(n)(e).length}}},isInitialized:m,get:function(t){return function(n){return function(e){return function(r){var u=O(t)(n)(r);return e?Array.isArray(e)?e.map(function(t){return u[t]}):u[e]:u}}}},getBy:function(t){return function(e){return function(r,u){return function(a){var i=h(t)(e)(a);return Array.isArray(u)?i.filter(function(t){return u.includes(n(t,r)[0])}):i.filter(function(t){return u===n(t,r)[0]})}}}}}),b=function(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t},k=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},_=function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)},j={data:{},keys:[],array:[],initialized:!1},E=function(t){return function(n,e){return t.array.find(function(t){return t[n]===e})}},w=function(t,n,e){var r=e[t];return k({},n,{data:k({},n.data,b({},r,k({},n.data[r],e))),array:n.array.map(function(n){return n[t]===r?k({},n,e):n})})},D=function(t){return function(n){return function(){return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=y.type,v=y.payload;switch(p){case o(n):return{data:a(v,t),keys:r(v.map(function(n){return n[t]})),array:v,initialized:!0};case f(n):var g=void 0,h=v[t];return g=E(i)(t,h)?i.array.map(function(n){return n[t]===h?v:n}):[].concat(_(i.array),[v]),k({},i,{data:k({},i.data,b({},h,v)),keys:r([].concat(_(i.keys),[h])),array:g,initialized:!0});case l(n):return w(t,i,v);case d(n):var m=v[t];return E(i)(t,m)?w(t,i,v):i;case s(n):return k({},i,{data:e(i.data,[v]),keys:u(i.keys,v),array:i.array?i.array.filter(function(n){return n[t]!==v}):[]});case c(n):return j;default:return i}}}}},z={middlewares:[function(t){return function(n){return function(e){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return k({},r,{state:D(t)(n)(e)(r.state,r.action)})}}}}],actions:["set","add","reset","remove","update","addOrUpdate"],selectors:["getState","getKeys","getAsArray","getLength","isInitialized","get","getBy"]},T={data:void 0,initialized:!1},q=function(t){return k({},T,{data:t})},U=function(){return function(t){return function(n){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q(n),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=r.type,a=r.payload;switch(u){case o(t):return{data:a,initialized:!0};case d(t):return k({},e,{data:k({},e.data,a)});case c(t):return q(n);default:return e}}}}},P={middlewares:[function(t){return function(t){return function(n){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return k({},e,{state:U()(t)(n)(e.state,e.action)})}}}}],actions:["set","reset","update"],selectors:["getState","isInitialized","get"]},S=Object.freeze({keyValue:z,simpleObject:P}),x=function(t){return function(n){return function(e){return function(r){return function(u){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.type,o={state:u,action:{type:void 0===i?"UNKNOWN":i,payload:a.payload}};return[].concat(_(t.pre||[]),_(t.engine||[]),_(t.post||[])).map(function(t){return t(n)(e)(r)}).forEach(function(t){o=t(o)}),o.state}}}}},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var e=n.key,r=n.path,u=n.type,a=void 0===u?"keyValue":u,i=n.prefix,o=void 0===i?"":i,c=n.name,f=n.defaultData,d=S[a];return Object.assign.apply(Object,[x(k({},t,{engine:d.middlewares}))(e)(""+o+c)(f),{trampssType:a}].concat(_(Object.keys(y).filter(function(t){return d.actions.includes(t.toLowerCase())}).map(function(t){return b({},t,y[t](""+o+c))})),_(Object.keys(A).filter(function(t){return d.selectors.includes(t)}).map(function(t){return b({},t,A[t](r)(c))}))))}},V=function(){throw Error("parameter is not a middleware configuration, nor a factory option object.")},B=function(t){return t.engine||t.pre||t.post},I=function(t){return!!t.name||"string"==typeof t},K=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){return null!==n&&void 0!==n||V(),B(n)?function(e){return R(n)(k({},e,t))}:I(n)?"string"==typeof n?R()(k({name:n},t)):R()(k({},n,t)):void V()}},L=K({type:"simpleObject"}),M=K({type:"keyValue"}),N=K();t.simpleObject=L,t.keyValue=M,t.default=N,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
